"use strict";var app=angular.module("urlshortenerApp",["restangular","ui.router"]);app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b){b.otherwise("/home"),a.state("home",{url:"/home",templateUrl:"views/home.html",controller:"UrlCtrl"}).state("contacts",{url:"/:code",controller:"FetchUrlCtrl"})}]),app.controller("UrlCtrl",["$scope","Url","$stateParams",function(a,b){a.form={url:null},b.all().then(function(b){a.urls=b}),a.submit=function(){b.create(a.form).then(function(b){a.url=b,a.urls.push(b),a.form={}})}}]),app.controller("FetchUrlCtrl",["$scope","Url","$stateParams",function(a,b,c){b.get(c.code).then(function(a){window.open(a.name,"_self")})}]),app.service("Url",["Restangular",function(a){var b=a.all("api/urls"),c=a.all("api/shorten");this.all=function(){return b.getList()},this.create=function(a){return c.post(a)},this.get=function(b){return a.one("api/url",b).get()}}]);